<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hust.lw.dao.CustomerMapper">
  <resultMap id="BaseResultMap" type="com.hust.lw.model.Customer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="userName" jdbcType="VARCHAR" property="username" />
    <result column="gender" javaType="com.hust.lw.enums.Gender" jdbcType="INTEGER" property="gender" typeHandler="org.apache.ibatis.type.EnumOrdinalTypeHandler" />
    <result column="hobby" javaType="com.hust.lw.enums.Hobby" jdbcType="VARCHAR" property="hobby" typeHandler="org.apache.ibatis.type.EnumTypeHandler"/>
    <result column="member" javaType="com.hust.lw.enums.Member" jdbcType="INTEGER" property="member" typeHandler="com.hust.lw.mybatis.type.MyMemberTypeHandler"/>
    <result column="userAge" jdbcType="INTEGER" property="userage" />
    <result column="userAddress" jdbcType="VARCHAR" property="useraddress" />
    <result column="reg_time" javaType="java.util.Date" jdbcType="VARCHAR" property="regTime" typeHandler="com.hust.lw.mybatis.type.MyDateTypeHandler"/>
  </resultMap>

  <insert id="addCustomer2" parameterType="com.hust.lw.model.Customer" useGeneratedKeys="true" keyProperty="id">
    INSERT INTO customer(userName, userAge, gender, hobby, userAddress, reg_time) VALUES(#{username},#{userage},
    #{gender,javaType=com.hust.lw.enums.Gender,jdbcType=INTEGER,typeHandler=org.apache.ibatis.type.EnumOrdinalTypeHandler},
    #{hobby,javaType=com.hust.lw.enums.Hobby,jdbcType=VARCHAR,typeHandler=org.apache.ibatis.type.EnumTypeHandler},#{useraddress},
    #{regTime,javaType=Date,jdbcType=VARCHAR,typeHandler=com.hust.lw.mybatis.type.MyDateTypeHandler})
  </insert>
  <select id="selectCustomerById2" parameterType="Long" resultMap="BaseResultMap">
    select * from Customer where id=#{id};
  </select>
</mapper>